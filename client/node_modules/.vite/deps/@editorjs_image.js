import {
  __commonJS
} from "./chunk-ROME4SDB.js";

// node_modules/@editorjs/image/dist/bundle.js
var require_bundle = __commonJS({
  "node_modules/@editorjs/image/dist/bundle.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.ImageTool = t() : e.ImageTool = t();
    }(window, function() {
      return function(e) {
        var t = {};
        function n(r) {
          if (t[r])
            return t[r].exports;
          var o = t[r] = { i: r, l: false, exports: {} };
          return e[r].call(o.exports, o, o.exports, n), o.l = true, o.exports;
        }
        return n.m = e, n.c = t, n.d = function(e2, t2, r) {
          n.o(e2, t2) || Object.defineProperty(e2, t2, { enumerable: true, get: r });
        }, n.r = function(e2) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
        }, n.t = function(e2, t2) {
          if (1 & t2 && (e2 = n(e2)), 8 & t2)
            return e2;
          if (4 & t2 && "object" == typeof e2 && e2 && e2.__esModule)
            return e2;
          var r = /* @__PURE__ */ Object.create(null);
          if (n.r(r), Object.defineProperty(r, "default", { enumerable: true, value: e2 }), 2 & t2 && "string" != typeof e2)
            for (var o in e2)
              n.d(r, o, (function(t3) {
                return e2[t3];
              }).bind(null, o));
          return r;
        }, n.n = function(e2) {
          var t2 = e2 && e2.__esModule ? function() {
            return e2.default;
          } : function() {
            return e2;
          };
          return n.d(t2, "a", t2), t2;
        }, n.o = function(e2, t2) {
          return Object.prototype.hasOwnProperty.call(e2, t2);
        }, n.p = "/", n(n.s = 9);
      }([function(e, t) {
        function n(e2, t2) {
          for (var n2 = 0; n2 < t2.length; n2++) {
            var r = t2[n2];
            r.enumerable = r.enumerable || false, r.configurable = true, "value" in r && (r.writable = true), Object.defineProperty(e2, r.key, r);
          }
        }
        e.exports = function(e2, t2, r) {
          return t2 && n(e2.prototype, t2), r && n(e2, r), e2;
        };
      }, function(e, t, n) {
        window, e.exports = function(e2) {
          var t2 = {};
          function n2(r) {
            if (t2[r])
              return t2[r].exports;
            var o = t2[r] = { i: r, l: false, exports: {} };
            return e2[r].call(o.exports, o, o.exports, n2), o.l = true, o.exports;
          }
          return n2.m = e2, n2.c = t2, n2.d = function(e3, t3, r) {
            n2.o(e3, t3) || Object.defineProperty(e3, t3, { enumerable: true, get: r });
          }, n2.r = function(e3) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e3, "__esModule", { value: true });
          }, n2.t = function(e3, t3) {
            if (1 & t3 && (e3 = n2(e3)), 8 & t3)
              return e3;
            if (4 & t3 && "object" == typeof e3 && e3 && e3.__esModule)
              return e3;
            var r = /* @__PURE__ */ Object.create(null);
            if (n2.r(r), Object.defineProperty(r, "default", { enumerable: true, value: e3 }), 2 & t3 && "string" != typeof e3)
              for (var o in e3)
                n2.d(r, o, (function(t4) {
                  return e3[t4];
                }).bind(null, o));
            return r;
          }, n2.n = function(e3) {
            var t3 = e3 && e3.__esModule ? function() {
              return e3.default;
            } : function() {
              return e3;
            };
            return n2.d(t3, "a", t3), t3;
          }, n2.o = function(e3, t3) {
            return Object.prototype.hasOwnProperty.call(e3, t3);
          }, n2.p = "", n2(n2.s = 3);
        }([function(e2, t2) {
          var n2;
          n2 = function() {
            return this;
          }();
          try {
            n2 = n2 || new Function("return this")();
          } catch (e3) {
            "object" == typeof window && (n2 = window);
          }
          e2.exports = n2;
        }, function(e2, t2, n2) {
          "use strict";
          (function(e3) {
            var r = n2(2), o = setTimeout;
            function i() {
            }
            function a(e4) {
              if (!(this instanceof a))
                throw new TypeError("Promises must be constructed via new");
              if ("function" != typeof e4)
                throw new TypeError("not a function");
              this._state = 0, this._handled = false, this._value = void 0, this._deferreds = [], f(e4, this);
            }
            function u(e4, t3) {
              for (; 3 === e4._state; )
                e4 = e4._value;
              0 !== e4._state ? (e4._handled = true, a._immediateFn(function() {
                var n3 = 1 === e4._state ? t3.onFulfilled : t3.onRejected;
                if (null !== n3) {
                  var r2;
                  try {
                    r2 = n3(e4._value);
                  } catch (e5) {
                    return void s(t3.promise, e5);
                  }
                  c(t3.promise, r2);
                } else
                  (1 === e4._state ? c : s)(t3.promise, e4._value);
              })) : e4._deferreds.push(t3);
            }
            function c(e4, t3) {
              try {
                if (t3 === e4)
                  throw new TypeError("A promise cannot be resolved with itself.");
                if (t3 && ("object" == typeof t3 || "function" == typeof t3)) {
                  var n3 = t3.then;
                  if (t3 instanceof a)
                    return e4._state = 3, e4._value = t3, void l(e4);
                  if ("function" == typeof n3)
                    return void f((r2 = n3, o2 = t3, function() {
                      r2.apply(o2, arguments);
                    }), e4);
                }
                e4._state = 1, e4._value = t3, l(e4);
              } catch (t4) {
                s(e4, t4);
              }
              var r2, o2;
            }
            function s(e4, t3) {
              e4._state = 2, e4._value = t3, l(e4);
            }
            function l(e4) {
              2 === e4._state && 0 === e4._deferreds.length && a._immediateFn(function() {
                e4._handled || a._unhandledRejectionFn(e4._value);
              });
              for (var t3 = 0, n3 = e4._deferreds.length; t3 < n3; t3++)
                u(e4, e4._deferreds[t3]);
              e4._deferreds = null;
            }
            function d(e4, t3, n3) {
              this.onFulfilled = "function" == typeof e4 ? e4 : null, this.onRejected = "function" == typeof t3 ? t3 : null, this.promise = n3;
            }
            function f(e4, t3) {
              var n3 = false;
              try {
                e4(function(e5) {
                  n3 || (n3 = true, c(t3, e5));
                }, function(e5) {
                  n3 || (n3 = true, s(t3, e5));
                });
              } catch (e5) {
                if (n3)
                  return;
                n3 = true, s(t3, e5);
              }
            }
            a.prototype.catch = function(e4) {
              return this.then(null, e4);
            }, a.prototype.then = function(e4, t3) {
              var n3 = new this.constructor(i);
              return u(this, new d(e4, t3, n3)), n3;
            }, a.prototype.finally = r.a, a.all = function(e4) {
              return new a(function(t3, n3) {
                if (!e4 || void 0 === e4.length)
                  throw new TypeError("Promise.all accepts an array");
                var r2 = Array.prototype.slice.call(e4);
                if (0 === r2.length)
                  return t3([]);
                var o2 = r2.length;
                function i2(e5, a3) {
                  try {
                    if (a3 && ("object" == typeof a3 || "function" == typeof a3)) {
                      var u2 = a3.then;
                      if ("function" == typeof u2)
                        return void u2.call(a3, function(t4) {
                          i2(e5, t4);
                        }, n3);
                    }
                    r2[e5] = a3, 0 == --o2 && t3(r2);
                  } catch (e6) {
                    n3(e6);
                  }
                }
                for (var a2 = 0; a2 < r2.length; a2++)
                  i2(a2, r2[a2]);
              });
            }, a.resolve = function(e4) {
              return e4 && "object" == typeof e4 && e4.constructor === a ? e4 : new a(function(t3) {
                t3(e4);
              });
            }, a.reject = function(e4) {
              return new a(function(t3, n3) {
                n3(e4);
              });
            }, a.race = function(e4) {
              return new a(function(t3, n3) {
                for (var r2 = 0, o2 = e4.length; r2 < o2; r2++)
                  e4[r2].then(t3, n3);
              });
            }, a._immediateFn = "function" == typeof e3 && function(t3) {
              e3(t3);
            } || function(e4) {
              o(e4, 0);
            }, a._unhandledRejectionFn = function(e4) {
              "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e4);
            }, t2.a = a;
          }).call(this, n2(5).setImmediate);
        }, function(e2, t2, n2) {
          "use strict";
          t2.a = function(e3) {
            var t3 = this.constructor;
            return this.then(function(n3) {
              return t3.resolve(e3()).then(function() {
                return n3;
              });
            }, function(n3) {
              return t3.resolve(e3()).then(function() {
                return t3.reject(n3);
              });
            });
          };
        }, function(e2, t2, n2) {
          "use strict";
          function r(e3) {
            return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            })(e3);
          }
          n2(4);
          var o, i, a, u, c, s, l, d = n2(8), f = (i = function(e3) {
            return new Promise(function(t3, n3) {
              e3 = u(e3), (e3 = c(e3)).beforeSend && e3.beforeSend();
              var r2 = window.XMLHttpRequest ? new window.XMLHttpRequest() : new window.ActiveXObject("Microsoft.XMLHTTP");
              r2.open(e3.method, e3.url), r2.setRequestHeader("X-Requested-With", "XMLHttpRequest"), Object.keys(e3.headers).forEach(function(t4) {
                var n4 = e3.headers[t4];
                r2.setRequestHeader(t4, n4);
              });
              var o2 = e3.ratio;
              r2.upload.addEventListener("progress", function(t4) {
                var n4 = Math.round(t4.loaded / t4.total * 100), r3 = Math.ceil(n4 * o2 / 100);
                e3.progress(Math.min(r3, 100));
              }, false), r2.addEventListener("progress", function(t4) {
                var n4 = Math.round(t4.loaded / t4.total * 100), r3 = Math.ceil(n4 * (100 - o2) / 100) + o2;
                e3.progress(Math.min(r3, 100));
              }, false), r2.onreadystatechange = function() {
                if (4 === r2.readyState) {
                  var e4 = r2.response;
                  try {
                    e4 = JSON.parse(e4);
                  } catch (e5) {
                  }
                  var o3 = d.parseHeaders(r2.getAllResponseHeaders()), i2 = { body: e4, code: r2.status, headers: o3 };
                  l(r2.status) ? t3(i2) : n3(i2);
                }
              }, r2.send(e3.data);
            });
          }, a = function(e3) {
            return e3.method = "POST", i(e3);
          }, u = function() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e3.url && "string" != typeof e3.url)
              throw new Error("Url must be a string");
            if (e3.url = e3.url || "", e3.method && "string" != typeof e3.method)
              throw new Error("`method` must be a string or null");
            if (e3.method = e3.method ? e3.method.toUpperCase() : "GET", e3.headers && "object" !== r(e3.headers))
              throw new Error("`headers` must be an object or null");
            if (e3.headers = e3.headers || {}, e3.type && ("string" != typeof e3.type || !Object.values(o).includes(e3.type)))
              throw new Error("`type` must be taken from module's «contentType» library");
            if (e3.progress && "function" != typeof e3.progress)
              throw new Error("`progress` must be a function or null");
            if (e3.progress = e3.progress || function(e4) {
            }, e3.beforeSend = e3.beforeSend || function(e4) {
            }, e3.ratio && "number" != typeof e3.ratio)
              throw new Error("`ratio` must be a number");
            if (e3.ratio < 0 || e3.ratio > 100)
              throw new Error("`ratio` must be in a 0-100 interval");
            if (e3.ratio = e3.ratio || 90, e3.accept && "string" != typeof e3.accept)
              throw new Error("`accept` must be a string with a list of allowed mime-types");
            if (e3.accept = e3.accept || "*/*", e3.multiple && "boolean" != typeof e3.multiple)
              throw new Error("`multiple` must be a true or false");
            if (e3.multiple = e3.multiple || false, e3.fieldName && "string" != typeof e3.fieldName)
              throw new Error("`fieldName` must be a string");
            return e3.fieldName = e3.fieldName || "files", e3;
          }, c = function(e3) {
            switch (e3.method) {
              case "GET":
                var t3 = s(e3.data, o.URLENCODED);
                delete e3.data, e3.url = /\?/.test(e3.url) ? e3.url + "&" + t3 : e3.url + "?" + t3;
                break;
              case "POST":
              case "PUT":
              case "DELETE":
              case "UPDATE":
                var n3 = function() {
                  return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).type || o.JSON;
                }(e3);
                (d.isFormData(e3.data) || d.isFormElement(e3.data)) && (n3 = o.FORM), e3.data = s(e3.data, n3), n3 !== f.contentType.FORM && (e3.headers["content-type"] = n3);
            }
            return e3;
          }, s = function() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            switch (arguments.length > 1 ? arguments[1] : void 0) {
              case o.URLENCODED:
                return d.urlEncode(e3);
              case o.JSON:
                return d.jsonEncode(e3);
              case o.FORM:
                return d.formEncode(e3);
              default:
                return e3;
            }
          }, l = function(e3) {
            return e3 >= 200 && e3 < 300;
          }, { contentType: o = { URLENCODED: "application/x-www-form-urlencoded; charset=utf-8", FORM: "multipart/form-data", JSON: "application/json; charset=utf-8" }, request: i, get: function(e3) {
            return e3.method = "GET", i(e3);
          }, post: a, transport: function(e3) {
            return e3 = u(e3), d.selectFiles(e3).then(function(t3) {
              for (var n3 = new FormData(), r2 = 0; r2 < t3.length; r2++)
                n3.append(e3.fieldName, t3[r2], t3[r2].name);
              d.isObject(e3.data) && Object.keys(e3.data).forEach(function(t4) {
                var r3 = e3.data[t4];
                n3.append(t4, r3);
              });
              var o2 = e3.beforeSend;
              return e3.beforeSend = function() {
                return o2(t3);
              }, e3.data = n3, a(e3);
            });
          }, selectFiles: function(e3) {
            return delete (e3 = u(e3)).beforeSend, d.selectFiles(e3);
          } });
          e2.exports = f;
        }, function(e2, t2, n2) {
          "use strict";
          n2.r(t2);
          var r = n2(1);
          window.Promise = window.Promise || r.a;
        }, function(e2, t2, n2) {
          (function(e3) {
            var r = void 0 !== e3 && e3 || "undefined" != typeof self && self || window, o = Function.prototype.apply;
            function i(e4, t3) {
              this._id = e4, this._clearFn = t3;
            }
            t2.setTimeout = function() {
              return new i(o.call(setTimeout, r, arguments), clearTimeout);
            }, t2.setInterval = function() {
              return new i(o.call(setInterval, r, arguments), clearInterval);
            }, t2.clearTimeout = t2.clearInterval = function(e4) {
              e4 && e4.close();
            }, i.prototype.unref = i.prototype.ref = function() {
            }, i.prototype.close = function() {
              this._clearFn.call(r, this._id);
            }, t2.enroll = function(e4, t3) {
              clearTimeout(e4._idleTimeoutId), e4._idleTimeout = t3;
            }, t2.unenroll = function(e4) {
              clearTimeout(e4._idleTimeoutId), e4._idleTimeout = -1;
            }, t2._unrefActive = t2.active = function(e4) {
              clearTimeout(e4._idleTimeoutId);
              var t3 = e4._idleTimeout;
              t3 >= 0 && (e4._idleTimeoutId = setTimeout(function() {
                e4._onTimeout && e4._onTimeout();
              }, t3));
            }, n2(6), t2.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e3 && e3.setImmediate || this && this.setImmediate, t2.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e3 && e3.clearImmediate || this && this.clearImmediate;
          }).call(this, n2(0));
        }, function(e2, t2, n2) {
          (function(e3, t3) {
            !function(e4, n3) {
              "use strict";
              if (!e4.setImmediate) {
                var r, o, i, a, u, c = 1, s = {}, l = false, d = e4.document, f = Object.getPrototypeOf && Object.getPrototypeOf(e4);
                f = f && f.setTimeout ? f : e4, "[object process]" === {}.toString.call(e4.process) ? r = function(e5) {
                  t3.nextTick(function() {
                    h(e5);
                  });
                } : function() {
                  if (e4.postMessage && !e4.importScripts) {
                    var t4 = true, n4 = e4.onmessage;
                    return e4.onmessage = function() {
                      t4 = false;
                    }, e4.postMessage("", "*"), e4.onmessage = n4, t4;
                  }
                }() ? (a = "setImmediate$" + Math.random() + "$", u = function(t4) {
                  t4.source === e4 && "string" == typeof t4.data && 0 === t4.data.indexOf(a) && h(+t4.data.slice(a.length));
                }, e4.addEventListener ? e4.addEventListener("message", u, false) : e4.attachEvent("onmessage", u), r = function(t4) {
                  e4.postMessage(a + t4, "*");
                }) : e4.MessageChannel ? ((i = new MessageChannel()).port1.onmessage = function(e5) {
                  h(e5.data);
                }, r = function(e5) {
                  i.port2.postMessage(e5);
                }) : d && "onreadystatechange" in d.createElement("script") ? (o = d.documentElement, r = function(e5) {
                  var t4 = d.createElement("script");
                  t4.onreadystatechange = function() {
                    h(e5), t4.onreadystatechange = null, o.removeChild(t4), t4 = null;
                  }, o.appendChild(t4);
                }) : r = function(e5) {
                  setTimeout(h, 0, e5);
                }, f.setImmediate = function(e5) {
                  "function" != typeof e5 && (e5 = new Function("" + e5));
                  for (var t4 = new Array(arguments.length - 1), n4 = 0; n4 < t4.length; n4++)
                    t4[n4] = arguments[n4 + 1];
                  var o2 = { callback: e5, args: t4 };
                  return s[c] = o2, r(c), c++;
                }, f.clearImmediate = p;
              }
              function p(e5) {
                delete s[e5];
              }
              function h(e5) {
                if (l)
                  setTimeout(h, 0, e5);
                else {
                  var t4 = s[e5];
                  if (t4) {
                    l = true;
                    try {
                      !function(e6) {
                        var t5 = e6.callback, n4 = e6.args;
                        switch (n4.length) {
                          case 0:
                            t5();
                            break;
                          case 1:
                            t5(n4[0]);
                            break;
                          case 2:
                            t5(n4[0], n4[1]);
                            break;
                          case 3:
                            t5(n4[0], n4[1], n4[2]);
                            break;
                          default:
                            t5.apply(void 0, n4);
                        }
                      }(t4);
                    } finally {
                      p(e5), l = false;
                    }
                  }
                }
              }
            }("undefined" == typeof self ? void 0 === e3 ? this : e3 : self);
          }).call(this, n2(0), n2(7));
        }, function(e2, t2) {
          var n2, r, o = e2.exports = {};
          function i() {
            throw new Error("setTimeout has not been defined");
          }
          function a() {
            throw new Error("clearTimeout has not been defined");
          }
          function u(e3) {
            if (n2 === setTimeout)
              return setTimeout(e3, 0);
            if ((n2 === i || !n2) && setTimeout)
              return n2 = setTimeout, setTimeout(e3, 0);
            try {
              return n2(e3, 0);
            } catch (t3) {
              try {
                return n2.call(null, e3, 0);
              } catch (t4) {
                return n2.call(this, e3, 0);
              }
            }
          }
          !function() {
            try {
              n2 = "function" == typeof setTimeout ? setTimeout : i;
            } catch (e3) {
              n2 = i;
            }
            try {
              r = "function" == typeof clearTimeout ? clearTimeout : a;
            } catch (e3) {
              r = a;
            }
          }();
          var c, s = [], l = false, d = -1;
          function f() {
            l && c && (l = false, c.length ? s = c.concat(s) : d = -1, s.length && p());
          }
          function p() {
            if (!l) {
              var e3 = u(f);
              l = true;
              for (var t3 = s.length; t3; ) {
                for (c = s, s = []; ++d < t3; )
                  c && c[d].run();
                d = -1, t3 = s.length;
              }
              c = null, l = false, function(e4) {
                if (r === clearTimeout)
                  return clearTimeout(e4);
                if ((r === a || !r) && clearTimeout)
                  return r = clearTimeout, clearTimeout(e4);
                try {
                  r(e4);
                } catch (t4) {
                  try {
                    return r.call(null, e4);
                  } catch (t5) {
                    return r.call(this, e4);
                  }
                }
              }(e3);
            }
          }
          function h(e3, t3) {
            this.fun = e3, this.array = t3;
          }
          function m() {
          }
          o.nextTick = function(e3) {
            var t3 = new Array(arguments.length - 1);
            if (arguments.length > 1)
              for (var n3 = 1; n3 < arguments.length; n3++)
                t3[n3 - 1] = arguments[n3];
            s.push(new h(e3, t3)), 1 !== s.length || l || u(p);
          }, h.prototype.run = function() {
            this.fun.apply(null, this.array);
          }, o.title = "browser", o.browser = true, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, o.removeAllListeners = m, o.emit = m, o.prependListener = m, o.prependOnceListener = m, o.listeners = function(e3) {
            return [];
          }, o.binding = function(e3) {
            throw new Error("process.binding is not supported");
          }, o.cwd = function() {
            return "/";
          }, o.chdir = function(e3) {
            throw new Error("process.chdir is not supported");
          }, o.umask = function() {
            return 0;
          };
        }, function(e2, t2, n2) {
          function r(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r2 = t3[n3];
              r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e3, r2.key, r2);
            }
          }
          var o = n2(9);
          e2.exports = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3);
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "urlEncode", value: function(e4) {
              return o(e4);
            } }, { key: "jsonEncode", value: function(e4) {
              return JSON.stringify(e4);
            } }, { key: "formEncode", value: function(e4) {
              if (this.isFormData(e4))
                return e4;
              if (this.isFormElement(e4))
                return new FormData(e4);
              if (this.isObject(e4)) {
                var t4 = new FormData();
                return Object.keys(e4).forEach(function(n4) {
                  var r2 = e4[n4];
                  t4.append(n4, r2);
                }), t4;
              }
              throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement");
            } }, { key: "isObject", value: function(e4) {
              return "[object Object]" === Object.prototype.toString.call(e4);
            } }, { key: "isFormData", value: function(e4) {
              return e4 instanceof FormData;
            } }, { key: "isFormElement", value: function(e4) {
              return e4 instanceof HTMLFormElement;
            } }, { key: "selectFiles", value: function() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
              return new Promise(function(t4, n4) {
                var r2 = document.createElement("INPUT");
                r2.type = "file", e4.multiple && r2.setAttribute("multiple", "multiple"), e4.accept && r2.setAttribute("accept", e4.accept), r2.style.display = "none", document.body.appendChild(r2), r2.addEventListener("change", function(e5) {
                  var n5 = e5.target.files;
                  t4(n5), document.body.removeChild(r2);
                }, false), r2.click();
              });
            } }, { key: "parseHeaders", value: function(e4) {
              var t4 = e4.trim().split(/[\r\n]+/), n4 = {};
              return t4.forEach(function(e5) {
                var t5 = e5.split(": "), r2 = t5.shift(), o2 = t5.join(": ");
                r2 && (n4[r2] = o2);
              }), n4;
            } }]) && r(t3, n3), e3;
          }();
        }, function(e2, t2) {
          var n2 = function(e3) {
            return encodeURIComponent(e3).replace(/[!'()*]/g, escape).replace(/%20/g, "+");
          }, r = function(e3, t3, o, i) {
            return t3 = t3 || null, o = o || "&", i = i || null, e3 ? function(e4) {
              for (var t4 = new Array(), n3 = 0; n3 < e4.length; n3++)
                e4[n3] && t4.push(e4[n3]);
              return t4;
            }(Object.keys(e3).map(function(a) {
              var u, c, s = a;
              if (i && (s = i + "[" + s + "]"), "object" == typeof e3[a] && null !== e3[a])
                u = r(e3[a], null, o, s);
              else {
                t3 && (c = s, s = !isNaN(parseFloat(c)) && isFinite(c) ? t3 + Number(s) : s);
                var l = e3[a];
                l = (l = 0 === (l = false === (l = true === l ? "1" : l) ? "0" : l) ? "0" : l) || "", u = n2(s) + "=" + n2(l);
              }
              return u;
            })).join(o).replace(/[!'()*]/g, "") : "";
          };
          e2.exports = r;
        }]);
      }, function(e, t) {
        e.exports = function(e2, t2) {
          if (!(e2 instanceof t2))
            throw new TypeError("Cannot call a class as a function");
        };
      }, function(e, t, n) {
        e.exports = n(10);
      }, function(e, t) {
        e.exports = function(e2, t2) {
          (null == t2 || t2 > e2.length) && (t2 = e2.length);
          for (var n = 0, r = new Array(t2); n < t2; n++)
            r[n] = e2[n];
          return r;
        };
      }, function(e, t, n) {
        var r = n(4);
        e.exports = function(e2, t2) {
          if (e2) {
            if ("string" == typeof e2)
              return r(e2, t2);
            var n2 = Object.prototype.toString.call(e2).slice(8, -1);
            return "Object" === n2 && e2.constructor && (n2 = e2.constructor.name), "Map" === n2 || "Set" === n2 ? Array.from(n2) : "Arguments" === n2 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2) ? r(e2, t2) : void 0;
          }
        };
      }, function(e, t) {
        function n(e2, t2, n2, r, o, i, a) {
          try {
            var u = e2[i](a), c = u.value;
          } catch (e3) {
            return void n2(e3);
          }
          u.done ? t2(c) : Promise.resolve(c).then(r, o);
        }
        e.exports = function(e2) {
          return function() {
            var t2 = this, r = arguments;
            return new Promise(function(o, i) {
              var a = e2.apply(t2, r);
              function u(e3) {
                n(a, o, i, u, c, "next", e3);
              }
              function c(e3) {
                n(a, o, i, u, c, "throw", e3);
              }
              u(void 0);
            });
          };
        };
      }, function(e, t, n) {
        var r = n(15), o = n(16), i = n(5), a = n(17);
        e.exports = function(e2) {
          return r(e2) || o(e2) || i(e2) || a();
        };
      }, function(e, t, n) {
        var r = n(18), o = n(19), i = n(5), a = n(20);
        e.exports = function(e2, t2) {
          return r(e2) || o(e2, t2) || i(e2, t2) || a();
        };
      }, function(e, t, n) {
        e.exports = n(21);
      }, function(e, t, n) {
        var r = function(e2) {
          "use strict";
          var t2 = Object.prototype, n2 = t2.hasOwnProperty, r2 = "function" == typeof Symbol ? Symbol : {}, o = r2.iterator || "@@iterator", i = r2.asyncIterator || "@@asyncIterator", a = r2.toStringTag || "@@toStringTag";
          function u(e3, t3, n3, r3) {
            var o2 = t3 && t3.prototype instanceof l ? t3 : l, i2 = Object.create(o2.prototype), a2 = new _(r3 || []);
            return i2._invoke = function(e4, t4, n4) {
              var r4 = "suspendedStart";
              return function(o3, i3) {
                if ("executing" === r4)
                  throw new Error("Generator is already running");
                if ("completed" === r4) {
                  if ("throw" === o3)
                    throw i3;
                  return E();
                }
                for (n4.method = o3, n4.arg = i3; ; ) {
                  var a3 = n4.delegate;
                  if (a3) {
                    var u2 = b(a3, n4);
                    if (u2) {
                      if (u2 === s)
                        continue;
                      return u2;
                    }
                  }
                  if ("next" === n4.method)
                    n4.sent = n4._sent = n4.arg;
                  else if ("throw" === n4.method) {
                    if ("suspendedStart" === r4)
                      throw r4 = "completed", n4.arg;
                    n4.dispatchException(n4.arg);
                  } else
                    "return" === n4.method && n4.abrupt("return", n4.arg);
                  r4 = "executing";
                  var l2 = c(e4, t4, n4);
                  if ("normal" === l2.type) {
                    if (r4 = n4.done ? "completed" : "suspendedYield", l2.arg === s)
                      continue;
                    return { value: l2.arg, done: n4.done };
                  }
                  "throw" === l2.type && (r4 = "completed", n4.method = "throw", n4.arg = l2.arg);
                }
              };
            }(e3, n3, a2), i2;
          }
          function c(e3, t3, n3) {
            try {
              return { type: "normal", arg: e3.call(t3, n3) };
            } catch (e4) {
              return { type: "throw", arg: e4 };
            }
          }
          e2.wrap = u;
          var s = {};
          function l() {
          }
          function d() {
          }
          function f() {
          }
          var p = {};
          p[o] = function() {
            return this;
          };
          var h = Object.getPrototypeOf, m = h && h(h(x([])));
          m && m !== t2 && n2.call(m, o) && (p = m);
          var g = f.prototype = l.prototype = Object.create(p);
          function y(e3) {
            ["next", "throw", "return"].forEach(function(t3) {
              e3[t3] = function(e4) {
                return this._invoke(t3, e4);
              };
            });
          }
          function v(e3, t3) {
            var r3;
            this._invoke = function(o2, i2) {
              function a2() {
                return new t3(function(r4, a3) {
                  !function r5(o3, i3, a4, u2) {
                    var s2 = c(e3[o3], e3, i3);
                    if ("throw" !== s2.type) {
                      var l2 = s2.arg, d2 = l2.value;
                      return d2 && "object" == typeof d2 && n2.call(d2, "__await") ? t3.resolve(d2.__await).then(function(e4) {
                        r5("next", e4, a4, u2);
                      }, function(e4) {
                        r5("throw", e4, a4, u2);
                      }) : t3.resolve(d2).then(function(e4) {
                        l2.value = e4, a4(l2);
                      }, function(e4) {
                        return r5("throw", e4, a4, u2);
                      });
                    }
                    u2(s2.arg);
                  }(o2, i2, r4, a3);
                });
              }
              return r3 = r3 ? r3.then(a2, a2) : a2();
            };
          }
          function b(e3, t3) {
            var n3 = e3.iterator[t3.method];
            if (void 0 === n3) {
              if (t3.delegate = null, "throw" === t3.method) {
                if (e3.iterator.return && (t3.method = "return", t3.arg = void 0, b(e3, t3), "throw" === t3.method))
                  return s;
                t3.method = "throw", t3.arg = new TypeError("The iterator does not provide a 'throw' method");
              }
              return s;
            }
            var r3 = c(n3, e3.iterator, t3.arg);
            if ("throw" === r3.type)
              return t3.method = "throw", t3.arg = r3.arg, t3.delegate = null, s;
            var o2 = r3.arg;
            return o2 ? o2.done ? (t3[e3.resultName] = o2.value, t3.next = e3.nextLoc, "return" !== t3.method && (t3.method = "next", t3.arg = void 0), t3.delegate = null, s) : o2 : (t3.method = "throw", t3.arg = new TypeError("iterator result is not an object"), t3.delegate = null, s);
          }
          function w(e3) {
            var t3 = { tryLoc: e3[0] };
            1 in e3 && (t3.catchLoc = e3[1]), 2 in e3 && (t3.finallyLoc = e3[2], t3.afterLoc = e3[3]), this.tryEntries.push(t3);
          }
          function k(e3) {
            var t3 = e3.completion || {};
            t3.type = "normal", delete t3.arg, e3.completion = t3;
          }
          function _(e3) {
            this.tryEntries = [{ tryLoc: "root" }], e3.forEach(w, this), this.reset(true);
          }
          function x(e3) {
            if (e3) {
              var t3 = e3[o];
              if (t3)
                return t3.call(e3);
              if ("function" == typeof e3.next)
                return e3;
              if (!isNaN(e3.length)) {
                var r3 = -1, i2 = function t4() {
                  for (; ++r3 < e3.length; )
                    if (n2.call(e3, r3))
                      return t4.value = e3[r3], t4.done = false, t4;
                  return t4.value = void 0, t4.done = true, t4;
                };
                return i2.next = i2;
              }
            }
            return { next: E };
          }
          function E() {
            return { value: void 0, done: true };
          }
          return d.prototype = g.constructor = f, f.constructor = d, f[a] = d.displayName = "GeneratorFunction", e2.isGeneratorFunction = function(e3) {
            var t3 = "function" == typeof e3 && e3.constructor;
            return !!t3 && (t3 === d || "GeneratorFunction" === (t3.displayName || t3.name));
          }, e2.mark = function(e3) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e3, f) : (e3.__proto__ = f, a in e3 || (e3[a] = "GeneratorFunction")), e3.prototype = Object.create(g), e3;
          }, e2.awrap = function(e3) {
            return { __await: e3 };
          }, y(v.prototype), v.prototype[i] = function() {
            return this;
          }, e2.AsyncIterator = v, e2.async = function(t3, n3, r3, o2, i2) {
            void 0 === i2 && (i2 = Promise);
            var a2 = new v(u(t3, n3, r3, o2), i2);
            return e2.isGeneratorFunction(n3) ? a2 : a2.next().then(function(e3) {
              return e3.done ? e3.value : a2.next();
            });
          }, y(g), g[a] = "Generator", g[o] = function() {
            return this;
          }, g.toString = function() {
            return "[object Generator]";
          }, e2.keys = function(e3) {
            var t3 = [];
            for (var n3 in e3)
              t3.push(n3);
            return t3.reverse(), function n4() {
              for (; t3.length; ) {
                var r3 = t3.pop();
                if (r3 in e3)
                  return n4.value = r3, n4.done = false, n4;
              }
              return n4.done = true, n4;
            };
          }, e2.values = x, _.prototype = { constructor: _, reset: function(e3) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(k), !e3)
              for (var t3 in this)
                "t" === t3.charAt(0) && n2.call(this, t3) && !isNaN(+t3.slice(1)) && (this[t3] = void 0);
          }, stop: function() {
            this.done = true;
            var e3 = this.tryEntries[0].completion;
            if ("throw" === e3.type)
              throw e3.arg;
            return this.rval;
          }, dispatchException: function(e3) {
            if (this.done)
              throw e3;
            var t3 = this;
            function r3(n3, r4) {
              return a2.type = "throw", a2.arg = e3, t3.next = n3, r4 && (t3.method = "next", t3.arg = void 0), !!r4;
            }
            for (var o2 = this.tryEntries.length - 1; o2 >= 0; --o2) {
              var i2 = this.tryEntries[o2], a2 = i2.completion;
              if ("root" === i2.tryLoc)
                return r3("end");
              if (i2.tryLoc <= this.prev) {
                var u2 = n2.call(i2, "catchLoc"), c2 = n2.call(i2, "finallyLoc");
                if (u2 && c2) {
                  if (this.prev < i2.catchLoc)
                    return r3(i2.catchLoc, true);
                  if (this.prev < i2.finallyLoc)
                    return r3(i2.finallyLoc);
                } else if (u2) {
                  if (this.prev < i2.catchLoc)
                    return r3(i2.catchLoc, true);
                } else {
                  if (!c2)
                    throw new Error("try statement without catch or finally");
                  if (this.prev < i2.finallyLoc)
                    return r3(i2.finallyLoc);
                }
              }
            }
          }, abrupt: function(e3, t3) {
            for (var r3 = this.tryEntries.length - 1; r3 >= 0; --r3) {
              var o2 = this.tryEntries[r3];
              if (o2.tryLoc <= this.prev && n2.call(o2, "finallyLoc") && this.prev < o2.finallyLoc) {
                var i2 = o2;
                break;
              }
            }
            i2 && ("break" === e3 || "continue" === e3) && i2.tryLoc <= t3 && t3 <= i2.finallyLoc && (i2 = null);
            var a2 = i2 ? i2.completion : {};
            return a2.type = e3, a2.arg = t3, i2 ? (this.method = "next", this.next = i2.finallyLoc, s) : this.complete(a2);
          }, complete: function(e3, t3) {
            if ("throw" === e3.type)
              throw e3.arg;
            return "break" === e3.type || "continue" === e3.type ? this.next = e3.arg : "return" === e3.type ? (this.rval = this.arg = e3.arg, this.method = "return", this.next = "end") : "normal" === e3.type && t3 && (this.next = t3), s;
          }, finish: function(e3) {
            for (var t3 = this.tryEntries.length - 1; t3 >= 0; --t3) {
              var n3 = this.tryEntries[t3];
              if (n3.finallyLoc === e3)
                return this.complete(n3.completion, n3.afterLoc), k(n3), s;
            }
          }, catch: function(e3) {
            for (var t3 = this.tryEntries.length - 1; t3 >= 0; --t3) {
              var n3 = this.tryEntries[t3];
              if (n3.tryLoc === e3) {
                var r3 = n3.completion;
                if ("throw" === r3.type) {
                  var o2 = r3.arg;
                  k(n3);
                }
                return o2;
              }
            }
            throw new Error("illegal catch attempt");
          }, delegateYield: function(e3, t3, n3) {
            return this.delegate = { iterator: x(e3), resultName: t3, nextLoc: n3 }, "next" === this.method && (this.arg = void 0), s;
          } }, e2;
        }(e.exports);
        try {
          regeneratorRuntime = r;
        } catch (e2) {
          Function("r", "regeneratorRuntime = r")(r);
        }
      }, function(e, t, n) {
        var r = n(12), o = n(13);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[e.i, o, ""]]);
        var i = { insert: "head", singleton: false }, a = (r(o, i), o.locals ? o.locals : {});
        e.exports = a;
      }, function(e, t, n) {
        "use strict";
        var r, o = function() {
          return void 0 === r && (r = Boolean(window && document && document.all && !window.atob)), r;
        }, i = function() {
          var e2 = {};
          return function(t2) {
            if (void 0 === e2[t2]) {
              var n2 = document.querySelector(t2);
              if (window.HTMLIFrameElement && n2 instanceof window.HTMLIFrameElement)
                try {
                  n2 = n2.contentDocument.head;
                } catch (e3) {
                  n2 = null;
                }
              e2[t2] = n2;
            }
            return e2[t2];
          };
        }(), a = [];
        function u(e2) {
          for (var t2 = -1, n2 = 0; n2 < a.length; n2++)
            if (a[n2].identifier === e2) {
              t2 = n2;
              break;
            }
          return t2;
        }
        function c(e2, t2) {
          for (var n2 = {}, r2 = [], o2 = 0; o2 < e2.length; o2++) {
            var i2 = e2[o2], c2 = t2.base ? i2[0] + t2.base : i2[0], s2 = n2[c2] || 0, l2 = "".concat(c2, " ").concat(s2);
            n2[c2] = s2 + 1;
            var d2 = u(l2), f2 = { css: i2[1], media: i2[2], sourceMap: i2[3] };
            -1 !== d2 ? (a[d2].references++, a[d2].updater(f2)) : a.push({ identifier: l2, updater: g(f2, t2), references: 1 }), r2.push(l2);
          }
          return r2;
        }
        function s(e2) {
          var t2 = document.createElement("style"), r2 = e2.attributes || {};
          if (void 0 === r2.nonce) {
            var o2 = n.nc;
            o2 && (r2.nonce = o2);
          }
          if (Object.keys(r2).forEach(function(e3) {
            t2.setAttribute(e3, r2[e3]);
          }), "function" == typeof e2.insert)
            e2.insert(t2);
          else {
            var a2 = i(e2.insert || "head");
            if (!a2)
              throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            a2.appendChild(t2);
          }
          return t2;
        }
        var l, d = (l = [], function(e2, t2) {
          return l[e2] = t2, l.filter(Boolean).join("\n");
        });
        function f(e2, t2, n2, r2) {
          var o2 = n2 ? "" : r2.media ? "@media ".concat(r2.media, " {").concat(r2.css, "}") : r2.css;
          if (e2.styleSheet)
            e2.styleSheet.cssText = d(t2, o2);
          else {
            var i2 = document.createTextNode(o2), a2 = e2.childNodes;
            a2[t2] && e2.removeChild(a2[t2]), a2.length ? e2.insertBefore(i2, a2[t2]) : e2.appendChild(i2);
          }
        }
        function p(e2, t2, n2) {
          var r2 = n2.css, o2 = n2.media, i2 = n2.sourceMap;
          if (o2 ? e2.setAttribute("media", o2) : e2.removeAttribute("media"), i2 && btoa && (r2 += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i2)))), " */")), e2.styleSheet)
            e2.styleSheet.cssText = r2;
          else {
            for (; e2.firstChild; )
              e2.removeChild(e2.firstChild);
            e2.appendChild(document.createTextNode(r2));
          }
        }
        var h = null, m = 0;
        function g(e2, t2) {
          var n2, r2, o2;
          if (t2.singleton) {
            var i2 = m++;
            n2 = h || (h = s(t2)), r2 = f.bind(null, n2, i2, false), o2 = f.bind(null, n2, i2, true);
          } else
            n2 = s(t2), r2 = p.bind(null, n2, t2), o2 = function() {
              !function(e3) {
                if (null === e3.parentNode)
                  return false;
                e3.parentNode.removeChild(e3);
              }(n2);
            };
          return r2(e2), function(t3) {
            if (t3) {
              if (t3.css === e2.css && t3.media === e2.media && t3.sourceMap === e2.sourceMap)
                return;
              r2(e2 = t3);
            } else
              o2();
          };
        }
        e.exports = function(e2, t2) {
          (t2 = t2 || {}).singleton || "boolean" == typeof t2.singleton || (t2.singleton = o());
          var n2 = c(e2 = e2 || [], t2);
          return function(e3) {
            if (e3 = e3 || [], "[object Array]" === Object.prototype.toString.call(e3)) {
              for (var r2 = 0; r2 < n2.length; r2++) {
                var o2 = u(n2[r2]);
                a[o2].references--;
              }
              for (var i2 = c(e3, t2), s2 = 0; s2 < n2.length; s2++) {
                var l2 = u(n2[s2]);
                0 === a[l2].references && (a[l2].updater(), a.splice(l2, 1));
              }
              n2 = i2;
            }
          };
        };
      }, function(e, t, n) {
        (t = n(14)(false)).push([e.i, '.image-tool {\n  --bg-color: #cdd1e0;\n  --front-color: #388ae5;\n  --border-color: #e8e8eb;\n\n}\n\n  .image-tool__image {\n    border-radius: 3px;\n    overflow: hidden;\n    margin-bottom: 10px;\n  }\n\n  .image-tool__image-picture {\n      max-width: 100%;\n      vertical-align: bottom;\n      display: block;\n    }\n\n  .image-tool__image-preloader {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      background-size: cover;\n      margin: auto;\n      position: relative;\n      background-color: var(--bg-color);\n      background-position: center center;\n    }\n\n  .image-tool__image-preloader::after {\n        content: "";\n        position: absolute;\n        z-index: 3;\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        border: 2px solid var(--bg-color);\n        border-top-color: var(--front-color);\n        left: 50%;\n        top: 50%;\n        margin-top: -30px;\n        margin-left: -30px;\n        animation: image-preloader-spin 2s infinite linear;\n        box-sizing: border-box;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]::before {\n      position: absolute !important;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      display: none;\n    }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {\n        display: block;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {\n        display: none;\n      }\n\n  .image-tool--empty .image-tool__image {\n      display: none;\n    }\n\n  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {\n      display: none;\n    }\n\n  .image-tool .cdx-button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .image-tool .cdx-button svg {\n      height: auto;\n      margin: 0 6px 0 0;\n    }\n\n  .image-tool--filled .cdx-button {\n      display: none;\n    }\n\n  .image-tool--filled .image-tool__image-preloader {\n        display: none;\n      }\n\n  .image-tool--loading .image-tool__image {\n      min-height: 200px;\n      display: flex;\n      border: 1px solid var(--border-color);\n      background-color: #fff;\n    }\n\n  .image-tool--loading .image-tool__image-picture {\n        display: none;\n      }\n\n  .image-tool--loading .cdx-button {\n      display: none;\n    }\n\n  /**\n   * Tunes\n   * ----------------\n   */\n\n  .image-tool--withBorder .image-tool__image {\n      border: 1px solid var(--border-color);\n    }\n\n  .image-tool--withBackground .image-tool__image {\n      padding: 15px;\n      background: var(--bg-color);\n    }\n\n  .image-tool--withBackground .image-tool__image-picture {\n        max-width: 60%;\n        margin: 0 auto;\n      }\n\n  .image-tool--stretched .image-tool__image-picture {\n        width: 100%;\n      }\n\n@keyframes image-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n', ""]), e.exports = t;
      }, function(e, t, n) {
        "use strict";
        e.exports = function(e2) {
          var t2 = [];
          return t2.toString = function() {
            return this.map(function(t3) {
              var n2 = function(e3, t4) {
                var n3 = e3[1] || "", r = e3[3];
                if (!r)
                  return n3;
                if (t4 && "function" == typeof btoa) {
                  var o = (a = r, u = btoa(unescape(encodeURIComponent(JSON.stringify(a)))), c = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u), "/*# ".concat(c, " */")), i = r.sources.map(function(e4) {
                    return "/*# sourceURL=".concat(r.sourceRoot || "").concat(e4, " */");
                  });
                  return [n3].concat(i).concat([o]).join("\n");
                }
                var a, u, c;
                return [n3].join("\n");
              }(t3, e2);
              return t3[2] ? "@media ".concat(t3[2], " {").concat(n2, "}") : n2;
            }).join("");
          }, t2.i = function(e3, n2, r) {
            "string" == typeof e3 && (e3 = [[null, e3, ""]]);
            var o = {};
            if (r)
              for (var i = 0; i < this.length; i++) {
                var a = this[i][0];
                null != a && (o[a] = true);
              }
            for (var u = 0; u < e3.length; u++) {
              var c = [].concat(e3[u]);
              r && o[c[0]] || (n2 && (c[2] ? c[2] = "".concat(n2, " and ").concat(c[2]) : c[2] = n2), t2.push(c));
            }
          }, t2;
        };
      }, function(e, t, n) {
        var r = n(4);
        e.exports = function(e2) {
          if (Array.isArray(e2))
            return r(e2);
        };
      }, function(e, t) {
        e.exports = function(e2) {
          if ("undefined" != typeof Symbol && Symbol.iterator in Object(e2))
            return Array.from(e2);
        };
      }, function(e, t) {
        e.exports = function() {
          throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        };
      }, function(e, t) {
        e.exports = function(e2) {
          if (Array.isArray(e2))
            return e2;
        };
      }, function(e, t) {
        e.exports = function(e2, t2) {
          if ("undefined" != typeof Symbol && Symbol.iterator in Object(e2)) {
            var n = [], r = true, o = false, i = void 0;
            try {
              for (var a, u = e2[Symbol.iterator](); !(r = (a = u.next()).done) && (n.push(a.value), !t2 || n.length !== t2); r = true)
                ;
            } catch (e3) {
              o = true, i = e3;
            } finally {
              try {
                r || null == u.return || u.return();
              } finally {
                if (o)
                  throw i;
              }
            }
            return n;
          }
        };
      }, function(e, t) {
        e.exports = function() {
          throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        };
      }, function(e, t, n) {
        "use strict";
        n.r(t), n.d(t, "default", function() {
          return _;
        });
        var r = n(3), o = n.n(r), i = n(6), a = n.n(i), u = n(2), c = n.n(u), s = n(0), l = n.n(s);
        n(11);
        const d = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';
        var f = n(7), p = n.n(f);
        function h(e2) {
          var t2, n2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, o2 = document.createElement(e2);
          Array.isArray(n2) ? (t2 = o2.classList).add.apply(t2, p()(n2)) : n2 && o2.classList.add(n2);
          for (var i2 in r2)
            o2[i2] = r2[i2];
          return o2;
        }
        var m = function() {
          function e2(t2) {
            var n2 = t2.api, r2 = t2.config, o2 = t2.onSelectFile, i2 = t2.readOnly;
            c()(this, e2), this.api = n2, this.config = r2, this.onSelectFile = o2, this.readOnly = i2, this.nodes = { wrapper: h("div", [this.CSS.baseClass, this.CSS.wrapper]), imageContainer: h("div", [this.CSS.imageContainer]), fileButton: this.createFileButton(), imageEl: void 0, imagePreloader: h("div", this.CSS.imagePreloader), caption: h("div", [this.CSS.input, this.CSS.caption], { contentEditable: !this.readOnly }) }, this.nodes.caption.dataset.placeholder = this.config.captionPlaceholder, this.nodes.imageContainer.appendChild(this.nodes.imagePreloader), this.nodes.wrapper.appendChild(this.nodes.imageContainer), this.nodes.wrapper.appendChild(this.nodes.caption), this.nodes.wrapper.appendChild(this.nodes.fileButton);
          }
          return l()(e2, [{ key: "render", value: function(t2) {
            return t2.file && 0 !== Object.keys(t2.file).length ? this.toggleStatus(e2.status.UPLOADING) : this.toggleStatus(e2.status.EMPTY), this.nodes.wrapper;
          } }, { key: "createFileButton", value: function() {
            var e3 = this, t2 = h("div", [this.CSS.button]);
            return t2.innerHTML = this.config.buttonContent || "".concat(d, " ").concat(this.api.i18n.t("Select an Image")), t2.addEventListener("click", function() {
              e3.onSelectFile();
            }), t2;
          } }, { key: "showPreloader", value: function(t2) {
            this.nodes.imagePreloader.style.backgroundImage = "url(".concat(t2, ")"), this.toggleStatus(e2.status.UPLOADING);
          } }, { key: "hidePreloader", value: function() {
            this.nodes.imagePreloader.style.backgroundImage = "", this.toggleStatus(e2.status.EMPTY);
          } }, { key: "fillImage", value: function(t2) {
            var n2 = this, r2 = /\.mp4$/.test(t2) ? "VIDEO" : "IMG", o2 = { src: t2 }, i2 = "load";
            "VIDEO" === r2 && (o2.autoplay = true, o2.loop = true, o2.muted = true, o2.playsinline = true, i2 = "loadeddata"), this.nodes.imageEl = h(r2, this.CSS.imageEl, o2), this.nodes.imageEl.addEventListener(i2, function() {
              n2.toggleStatus(e2.status.FILLED), n2.nodes.imagePreloader && (n2.nodes.imagePreloader.style.backgroundImage = "");
            }), this.nodes.imageContainer.appendChild(this.nodes.imageEl);
          } }, { key: "fillCaption", value: function(e3) {
            this.nodes.caption && (this.nodes.caption.innerHTML = e3);
          } }, { key: "toggleStatus", value: function(t2) {
            for (var n2 in e2.status)
              Object.prototype.hasOwnProperty.call(e2.status, n2) && this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper, "--").concat(e2.status[n2]), t2 === e2.status[n2]);
          } }, { key: "applyTune", value: function(e3, t2) {
            this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper, "--").concat(e3), t2);
          } }, { key: "CSS", get: function() {
            return { baseClass: this.api.styles.block, loading: this.api.styles.loader, input: this.api.styles.input, button: this.api.styles.button, wrapper: "image-tool", imageContainer: "image-tool__image", imagePreloader: "image-tool__image-preloader", imageEl: "image-tool__image-picture", caption: "image-tool__caption" };
          } }], [{ key: "status", get: function() {
            return { EMPTY: "empty", UPLOADING: "loading", FILLED: "filled" };
          } }]), e2;
        }(), g = n(8), y = n.n(g), v = n(1), b = n.n(v);
        function w(e2) {
          return e2 && "function" == typeof e2.then;
        }
        var k = function() {
          function e2(t2) {
            var n2 = t2.config, r2 = t2.onUpload, o2 = t2.onError;
            c()(this, e2), this.config = n2, this.onUpload = r2, this.onError = o2;
          }
          return l()(e2, [{ key: "uploadSelectedFile", value: function(e3) {
            var t2 = this, n2 = e3.onPreview, r2 = function(e4) {
              var t3 = new FileReader();
              t3.readAsDataURL(e4), t3.onload = function(e5) {
                n2(e5.target.result);
              };
            };
            (this.config.uploader && "function" == typeof this.config.uploader.uploadByFile ? b.a.selectFiles({ accept: this.config.types }).then(function(e4) {
              r2(e4[0]);
              var n3 = t2.config.uploader.uploadByFile(e4[0]);
              return w(n3) || console.warn("Custom uploader method uploadByFile should return a Promise"), n3;
            }) : b.a.transport({ url: this.config.endpoints.byFile, data: this.config.additionalRequestData, accept: this.config.types, headers: this.config.additionalRequestHeaders, beforeSend: function(e4) {
              r2(e4[0]);
            }, fieldName: this.config.field }).then(function(e4) {
              return e4.body;
            })).then(function(e4) {
              t2.onUpload(e4);
            }).catch(function(e4) {
              t2.onError(e4);
            });
          } }, { key: "uploadByUrl", value: function(e3) {
            var t2, n2 = this;
            this.config.uploader && "function" == typeof this.config.uploader.uploadByUrl ? w(t2 = this.config.uploader.uploadByUrl(e3)) || console.warn("Custom uploader method uploadByUrl should return a Promise") : t2 = b.a.post({ url: this.config.endpoints.byUrl, data: Object.assign({ url: e3 }, this.config.additionalRequestData), type: b.a.contentType.JSON, headers: this.config.additionalRequestHeaders }).then(function(e4) {
              return e4.body;
            }), t2.then(function(e4) {
              n2.onUpload(e4);
            }).catch(function(e4) {
              n2.onError(e4);
            });
          } }, { key: "uploadByFile", value: function(e3, t2) {
            var n2, r2 = this, o2 = t2.onPreview, i2 = new FileReader();
            if (i2.readAsDataURL(e3), i2.onload = function(e4) {
              o2(e4.target.result);
            }, this.config.uploader && "function" == typeof this.config.uploader.uploadByFile)
              w(n2 = this.config.uploader.uploadByFile(e3)) || console.warn("Custom uploader method uploadByFile should return a Promise");
            else {
              var a2 = new FormData();
              a2.append(this.config.field, e3), this.config.additionalRequestData && Object.keys(this.config.additionalRequestData).length && Object.entries(this.config.additionalRequestData).forEach(function(e4) {
                var t3 = y()(e4, 2), n3 = t3[0], r3 = t3[1];
                a2.append(n3, r3);
              }), n2 = b.a.post({ url: this.config.endpoints.byFile, data: a2, type: b.a.contentType.JSON, headers: this.config.additionalRequestHeaders }).then(function(e4) {
                return e4.body;
              });
            }
            n2.then(function(e4) {
              r2.onUpload(e4);
            }).catch(function(e4) {
              r2.onError(e4);
            });
          } }]), e2;
        }(), _ = function() {
          function e2(t3) {
            var n2 = this, r2 = t3.data, o2 = t3.config, i2 = t3.api, a2 = t3.readOnly;
            c()(this, e2), this.api = i2, this.readOnly = a2, this.config = { endpoints: o2.endpoints || "", additionalRequestData: o2.additionalRequestData || {}, additionalRequestHeaders: o2.additionalRequestHeaders || {}, field: o2.field || "image", types: o2.types || "image/*", captionPlaceholder: this.api.i18n.t(o2.captionPlaceholder || "Caption"), buttonContent: o2.buttonContent || "", uploader: o2.uploader || void 0, actions: o2.actions || [] }, this.uploader = new k({ config: this.config, onUpload: function(e3) {
              return n2.onUpload(e3);
            }, onError: function(e3) {
              return n2.uploadingFailed(e3);
            } }), this.ui = new m({ api: i2, config: this.config, onSelectFile: function() {
              n2.uploader.uploadSelectedFile({ onPreview: function(e3) {
                n2.ui.showPreloader(e3);
              } });
            }, readOnly: a2 }), this._data = {}, this.data = r2;
          }
          var t2;
          return l()(e2, null, [{ key: "isReadOnlySupported", get: function() {
            return true;
          } }, { key: "toolbox", get: function() {
            return { icon: d, title: "Image" };
          } }, { key: "tunes", get: function() {
            return [{ name: "withBorder", icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>', title: "With border", toggle: true }, { name: "stretched", icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>', title: "Stretch image", toggle: true }, { name: "withBackground", icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>', title: "With background", toggle: true }];
          } }]), l()(e2, [{ key: "render", value: function() {
            return this.ui.render(this.data);
          } }, { key: "validate", value: function(e3) {
            return e3.file && e3.file.url;
          } }, { key: "save", value: function() {
            var e3 = this.ui.nodes.caption;
            return this._data.caption = e3.innerHTML, this.data;
          } }, { key: "renderSettings", value: function() {
            var t3 = this;
            return e2.tunes.concat(this.config.actions).map(function(e3) {
              return { icon: e3.icon, label: t3.api.i18n.t(e3.title), name: e3.name, toggle: e3.toggle, isActive: t3.data[e3.name], onActivate: function() {
                "function" != typeof e3.action ? t3.tuneToggled(e3.name) : e3.action(e3.name);
              } };
            });
          } }, { key: "appendCallback", value: function() {
            this.ui.nodes.fileButton.click();
          } }, { key: "onPaste", value: (t2 = a()(o.a.mark(function e3(t3) {
            var n2, r2, i2, a2, u2;
            return o.a.wrap(function(e4) {
              for (; ; )
                switch (e4.prev = e4.next) {
                  case 0:
                    e4.t0 = t3.type, e4.next = "tag" === e4.t0 ? 3 : "pattern" === e4.t0 ? 15 : "file" === e4.t0 ? 18 : 21;
                    break;
                  case 3:
                    if (n2 = t3.detail.data, !/^blob:/.test(n2.src)) {
                      e4.next = 13;
                      break;
                    }
                    return e4.next = 7, fetch(n2.src);
                  case 7:
                    return r2 = e4.sent, e4.next = 10, r2.blob();
                  case 10:
                    return i2 = e4.sent, this.uploadFile(i2), e4.abrupt("break", 21);
                  case 13:
                    return this.uploadUrl(n2.src), e4.abrupt("break", 21);
                  case 15:
                    return a2 = t3.detail.data, this.uploadUrl(a2), e4.abrupt("break", 21);
                  case 18:
                    return u2 = t3.detail.file, this.uploadFile(u2), e4.abrupt("break", 21);
                  case 21:
                  case "end":
                    return e4.stop();
                }
            }, e3, this);
          })), function(e3) {
            return t2.apply(this, arguments);
          }) }, { key: "onUpload", value: function(e3) {
            e3.success && e3.file ? this.image = e3.file : this.uploadingFailed("incorrect response: " + JSON.stringify(e3));
          } }, { key: "uploadingFailed", value: function(e3) {
            console.log("Image Tool: uploading failed because of", e3), this.api.notifier.show({ message: this.api.i18n.t("Couldn’t upload image. Please try another."), style: "error" }), this.ui.hidePreloader();
          } }, { key: "tuneToggled", value: function(e3) {
            this.setTune(e3, !this._data[e3]);
          } }, { key: "setTune", value: function(e3, t3) {
            var n2 = this;
            this._data[e3] = t3, this.ui.applyTune(e3, t3), "stretched" === e3 && Promise.resolve().then(function() {
              var e4 = n2.api.blocks.getCurrentBlockIndex();
              n2.api.blocks.stretchBlock(e4, t3);
            }).catch(function(e4) {
              console.error(e4);
            });
          } }, { key: "uploadFile", value: function(e3) {
            var t3 = this;
            this.uploader.uploadByFile(e3, { onPreview: function(e4) {
              t3.ui.showPreloader(e4);
            } });
          } }, { key: "uploadUrl", value: function(e3) {
            this.ui.showPreloader(e3), this.uploader.uploadByUrl(e3);
          } }, { key: "data", set: function(t3) {
            var n2 = this;
            this.image = t3.file, this._data.caption = t3.caption || "", this.ui.fillCaption(this._data.caption), e2.tunes.forEach(function(e3) {
              var r2 = e3.name, o2 = void 0 !== t3[r2] && (true === t3[r2] || "true" === t3[r2]);
              n2.setTune(r2, o2);
            });
          }, get: function() {
            return this._data;
          } }, { key: "image", set: function(e3) {
            this._data.file = e3 || {}, e3 && e3.url && this.ui.fillImage(e3.url);
          } }], [{ key: "pasteConfig", get: function() {
            return { tags: [{ img: { src: true } }], patterns: { image: /https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i }, files: { mimeTypes: ["image/*"] } };
          } }]), e2;
        }();
      }]).default;
    });
  }
});
export default require_bundle();
/*! Bundled license information:

@editorjs/image/dist/bundle.js:
  (*!
   * Image tool
   * 
   * @version 2.8.1
   * 
   * @package https://github.com/editor-js/image
   * @licence MIT
   * @author CodeX <https://codex.so>
   *)
  (**
   * Image Tool for the Editor.js
   *
   * @author CodeX <team@codex.so>
   * @license MIT
   * @see {@link https://github.com/editor-js/image}
   *
   * To developers.
   * To simplify Tool structure, we split it to 4 parts:
   *  1) index.js — main Tool's interface, public API and methods for working with data
   *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
   *  3) ui.js — module for UI manipulations: render, showing preloader, etc
   *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
   *
   * For debug purposes there is a testing server
   * that can save uploaded files and return a Response {@link UploadResponseFormat}
   *
   *       $ node dev/server.js
   *
   * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
   *
   * image: {
   *   class: ImageTool,
   *   config: {
   *     endpoints: {
   *       byFile: 'http://localhost:8008/uploadFile',
   *       byUrl: 'http://localhost:8008/fetchUrl',
   *     }
   *   },
   * },
   *)
*/
//# sourceMappingURL=@editorjs_image.js.map
